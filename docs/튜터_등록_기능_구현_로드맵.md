# íŠœí„° ë“±ë¡ ê¸°ëŠ¥ êµ¬í˜„ ë¡œë“œë§µ

## ê°œìš”

í•™ìƒì´ íŠœí„°ë¥¼ ê²€ìƒ‰í•˜ê³  ë“±ë¡ ìš”ì²­ì„ ë³´ë‚´ë©´, íŠœí„°ê°€ ìŠ¹ì¸/ê±°ë¶€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

---

## í•µì‹¬ í”Œë¡œìš°

```
[í•™ìƒ]
  â†“ POST /api/tutors/{email}/request
  
[Lambda - TutorRegisterFunction]
  â†“ 1. tutor_requests í…Œì´ë¸”ì— status='pending' ì €ì¥
  â†“ 2. ë³‘ë ¬ ì²˜ë¦¬:
      â”œâ”€â†’ WebSocketìœ¼ë¡œ íŠœí„°ì—ê²Œ ì¦‰ì‹œ ì•Œë¦¼ (ì‹¤ì‹œê°„)
      â”œâ”€â†’ SQSì— ì•Œë¦¼ ë©”ì‹œì§€ íì‰ (ë¹„ë™ê¸°)
      â””â”€â†’ ì´ë©”ì¼ ì•Œë¦¼ ì „ì†¡ (Amazon SES)
  
[SQS Queue]
  â†“ ì•Œë¦¼ ì´ë²¤íŠ¸ ì €ì¥
  
[Lambda - NotificationPersistenceFunction]
  â†“ SQSì—ì„œ ë©”ì‹œì§€ ì†Œë¹„
  â†“ notifications í…Œì´ë¸”ì— ì•Œë¦¼ ì´ë ¥ ì €ì¥
  
[íŠœí„°]
  â†“ GET /api/tutor/requests (pending ìš”ì²­ ì¡°íšŒ)
  â†“ POST /api/tutors/requests/{id}/approve
  
[Lambda]
  â†“ tutor_requests â†’ status='approved'
  â†“ tutor_students í…Œì´ë¸”ì— ê´€ê³„ ì¶”ê°€
  â†“ í•™ìƒì—ê²Œ ìŠ¹ì¸ ì•Œë¦¼ (WebSocket + ì´ë©”ì¼)
  
[ì™„ë£Œ]
```

### ê±°ë¶€ í”Œë¡œìš°

```
[íŠœí„°]
  â†“ POST /api/tutors/requests/{id}/reject
  
[Lambda]
  â†“ tutor_requests â†’ status='rejected'
  â†“ rejection_reason ì €ì¥
  â†“ í•™ìƒì—ê²Œ ê±°ë¶€ ì•Œë¦¼ (WebSocket + ì´ë©”ì¼)
  
[ì™„ë£Œ]
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 1. tutor_requests (ì‹ ê·œ í…Œì´ë¸”)

**ìš©ë„**: íŠœí„° ë“±ë¡ ìš”ì²­ ê´€ë¦¬ ë° ì´ë ¥ ì¶”ì 

```
PK: request_id (UUID)
SK: created_at (Timestamp)

Attributes:
- student_email: String
- tutor_email: String
- status: String ('pending' | 'approved' | 'rejected' | 'cancelled')
- message: String (optional, í•™ìƒì˜ ìš”ì²­ ë©”ì‹œì§€)
- processed_at: DateTime (optional, ìŠ¹ì¸/ê±°ë¶€ ì²˜ë¦¬ ì‹œê°)
- rejection_reason: String (optional, ê±°ë¶€ ì‚¬ìœ )
- created_at: DateTime
- updated_at: DateTime

GSI1: student_email-created_at-index
  PK: student_email
  SK: created_at
  ìš©ë„: í•™ìƒì´ ìì‹ ì˜ ëª¨ë“  ìš”ì²­ ì¡°íšŒ

GSI2: tutor_email-status-created_at-index
  PK: tutor_email#status
  SK: created_at
  ìš©ë„: íŠœí„°ê°€ statusë³„(pending/approved/rejected) ìš”ì²­ ì¡°íšŒ

TTL: 90ì¼ (ì²˜ë¦¬ ì™„ë£Œ í›„ 90ì¼ ìë™ ì‚­ì œ)
```

### 2. notifications (ì‹ ê·œ í…Œì´ë¸” - ì•Œë¦¼ ì´ë ¥ ì €ì¥)

```
PK: user_email (íŠœí„° ë˜ëŠ” í•™ìƒ ì´ë©”ì¼)
SK: notification_id#timestamp

Attributes:
- notification_id: String (UUID)
- user_email: String (ìˆ˜ì‹ ì ì´ë©”ì¼)
- type: String ('NEW_TUTOR_REQUEST' | 'TUTOR_REQUEST_APPROVED' | 'TUTOR_REQUEST_REJECTED')
- title: String
- message: String
- data: Map (ê´€ë ¨ ë°ì´í„°: request_id, student_email, tutor_email ë“±)
- is_read: Boolean (ê¸°ë³¸ê°’: false)
- sent_via: List<String> (['websocket', 'email'])
- created_at: DateTime

GSI1: user_email-is_read-created_at-index
  PK: user_email
  SK: is_read#created_at
  ìš©ë„: ì½ì§€ ì•Šì€ ì•Œë¦¼ ì¡°íšŒ

TTL: 30ì¼ (ìƒì„± í›„ 30ì¼ ìë™ ì‚­ì œ)
```

### 3. tutor_students (ê¸°ì¡´ í…Œì´ë¸” - ìŠ¹ì¸ëœ ê´€ê³„ë§Œ ì €ì¥)

```
PK: tutor_email
SK: student_email

Attributes:
- assigned_at: DateTime
- status: String ('active' | 'inactive')
- request_id: String (ì°¸ì¡°ìš©, tutor_requestsì˜ request_id)

GSI: student_email-index
  ìš©ë„: í•™ìƒì˜ í˜„ì¬ íŠœí„° ì¡°íšŒ
```

### 4. users (ê¸°ì¡´ í…Œì´ë¸”)

```
PK: email

Attributes:
- name: String
- role: String ('student' | 'tutor')
- profile_image: String (optional)
- bio: String (optional, íŠœí„° ì†Œê°œ)
- specialties: List<String> (optional, íŠœí„° ì „ë¬¸ ë¶„ì•¼)
- max_students: Number (optional, íŠœí„° ìµœëŒ€ í•™ìƒ ìˆ˜)
- is_accepting: Boolean (optional, íŠœí„°ê°€ í˜„ì¬ í•™ìƒ ëª¨ì§‘ ì¤‘ì¸ì§€)
- created_at: DateTime
```

### 5. websocket_connections (ê¸°ì¡´ í…Œì´ë¸” - WebSocket ì—°ê²° ê´€ë¦¬)

```
PK: connection_id
SK: user_email

Attributes:
- connection_id: String
- user_email: String
- connected_at: DateTime

GSI: user_email-index
  ìš©ë„: íŠ¹ì • ì‚¬ìš©ìì˜ í™œì„± ì—°ê²° ì¡°íšŒ

TTL: 2ì‹œê°„ (ë¹„í™œì„± ì—°ê²° ìë™ ì •ë¦¬)
```

---

## API ì„¤ê³„

### 1. íŠœí„° ëª©ë¡ ì¡°íšŒ (í•™ìƒìš©)

```http
GET /api/tutors?search={keyword}&specialty={specialty}
Authorization: Bearer {token}
```

**Query Parameters:**
- `search` (optional): íŠœí„° ì´ë¦„ ê²€ìƒ‰
- `specialty` (optional): ì „ë¬¸ ë¶„ì•¼ í•„í„° (ë°œìŒ, ë¬¸ë²•, íšŒí™” ë“±)

**Response:**
```json
{
  "tutors": [
    {
      "email": "tutor1@example.com",
      "name": "ì´ì˜ì–´",
      "bio": "10ë…„ ê²½ë ¥ ì˜ì–´ ë°œìŒ ì „ë¬¸ íŠœí„°",
      "specialties": ["ë°œìŒ", "íšŒí™”"],
      "profile_image": "https://...",
      "current_students": 8,
      "max_students": 15,
      "is_accepting": true,
      "my_request_status": null // ë˜ëŠ” "pending", "approved", "rejected"
    },
    {
      "email": "tutor2@example.com",
      "name": "ë°•ë°œìŒ",
      "bio": "ë¯¸êµ­ ê±°ì£¼ 10ë…„ ì›ì–´ë¯¼ ìˆ˜ì¤€ ë°œìŒ êµì •",
      "specialties": ["ë°œìŒ"],
      "profile_image": "https://...",
      "current_students": 12,
      "max_students": 10,
      "is_accepting": false,
      "my_request_status": "pending"
    }
  ]
}
```

### 2. íŠœí„° ë“±ë¡ ìš”ì²­ (í•™ìƒìš©)

```http
POST /api/tutors/{tutor_email}/request
Authorization: Bearer {token}
Content-Type: application/json
```

**Request Body:**
```json
{
  "message": "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ ë“±ë¡ ìš”ì²­ë“œë¦½ë‹ˆë‹¤."
}
```

**Response:**
```json
{
  "request_id": "req_abc123",
  "tutor_email": "tutor1@example.com",
  "status": "pending",
  "created_at": "2026-01-20T10:30:00Z",
  "message": "ë“±ë¡ ìš”ì²­ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**Lambda ì²˜ë¦¬ ë¡œì§:**
1. ìœ íš¨ì„± ê²€ì‚¬ (ì¤‘ë³µ ìš”ì²­, ì´ë¯¸ ë“±ë¡ëœ í•™ìƒ, íŠœí„° ì •ì› í™•ì¸)
2. tutor_requests í…Œì´ë¸”ì— status='pending'ìœ¼ë¡œ ì €ì¥
3. ë³‘ë ¬ ì²˜ë¦¬ (ë™ì‹œ ì‹¤í–‰):
   - **WebSocket ì•Œë¦¼**: íŠœí„°ì—ê²Œ ì¦‰ì‹œ ì „ì†¡ (NEW_TUTOR_REQUEST)
   - **SQS íì‰**: NotificationQueueì— ë©”ì‹œì§€ ì „ì†¡ â†’ Lambdaê°€ ì†Œë¹„í•˜ì—¬ notifications í…Œì´ë¸”ì— ì €ì¥
   - **ì´ë©”ì¼ ì•Œë¦¼**: Amazon SESë¡œ ì „ì†¡
     - ì œëª©: "[SpeakTracker] ìƒˆë¡œìš´ í•™ìƒ ë“±ë¡ ìš”ì²­"
     - ë‚´ìš©: í•™ìƒ ì´ë¦„, ìš”ì²­ ë©”ì‹œì§€, ëŒ€ì‹œë³´ë“œ ë§í¬

**Error Cases:**
- 400: ì´ë¯¸ í•´ë‹¹ íŠœí„°ì—ê²Œ pending ìš”ì²­ì´ ìˆìŒ
- 400: ì´ë¯¸ í•´ë‹¹ íŠœí„°ì˜ í•™ìƒì„
- 400: íŠœí„°ê°€ í•™ìƒì„ ë°›ì§€ ì•ŠìŒ (is_accepting: false)
- 400: íŠœí„°ì˜ ì •ì› ì´ˆê³¼
- 404: íŠœí„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

### 3. ë‚´ ìš”ì²­ ëª©ë¡ ì¡°íšŒ (í•™ìƒìš©)

```http
GET /api/my/tutor-requests?status={status}
Authorization: Bearer {token}
```

**Query Parameters:**
- `status` (optional): pending, approved, rejected, all (default: all)

**Response:**
```json
{
  "requests": [
    {
      "request_id": "req_abc123",
      "tutor_email": "tutor1@example.com",
      "tutor_name": "ì´ì˜ì–´",
      "status": "pending",
      "message": "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ ë“±ë¡ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.",
      "created_at": "2026-01-20T10:30:00Z",
      "processed_at": null,
      "rejection_reason": null
    },
    {
      "request_id": "req_def456",
      "tutor_email": "tutor2@example.com",
      "tutor_name": "ë°•ë°œìŒ",
      "status": "approved",
      "message": "ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤!",
      "created_at": "2026-01-18T14:20:00Z",
      "processed_at": "2026-01-18T15:00:00Z",
      "rejection_reason": null
    }
  ]
}
```

### 4. ëŒ€ê¸° ì¤‘ì¸ ë“±ë¡ ìš”ì²­ ì¡°íšŒ (íŠœí„°ìš©)

```http
GET /api/tutor/requests?status={status}
Authorization: Bearer {token}
```

**Query Parameters:**
- `status` (optional): pending, approved, rejected, all (default: pending)

**Response:**
```json
{
  "requests": [
    {
      "request_id": "req_abc123",
      "student_email": "student1@example.com",
      "student_name": "ê¹€ì˜í¬",
      "status": "pending",
      "message": "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ ë“±ë¡ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.",
      "created_at": "2026-01-20T10:30:00Z",
      "days_waiting": 1
    },
    {
      "request_id": "req_ghi789",
      "student_email": "student2@example.com",
      "student_name": "ë°•ì² ìˆ˜",
      "status": "pending",
      "message": "íšŒí™” ì‹¤ë ¥ í–¥ìƒì„ ìœ„í•´ ë“±ë¡ ìš”ì²­í•©ë‹ˆë‹¤.",
      "created_at": "2026-01-19T09:15:00Z",
      "days_waiting": 2
    }
  ],
  "total_pending": 2
}
```

### 5. ë“±ë¡ ìš”ì²­ ìŠ¹ì¸ (íŠœí„°ìš©)

```http
POST /api/tutors/requests/{request_id}/approve
Authorization: Bearer {token}
```

**Response:**
```json
{
  "request_id": "req_abc123",
  "status": "approved",
  "student_email": "student1@example.com",
  "processed_at": "2026-01-20T11:00:00Z",
  "message": "í•™ìƒì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**Lambda ì²˜ë¦¬ ë¡œì§:**
1. ìš”ì²­ ìœ íš¨ì„± ê²€ì‚¬ (ì´ë¯¸ ì²˜ë¦¬ë¨, ì •ì› í™•ì¸, ê¶Œí•œ í™•ì¸)
2. tutor_requests í…Œì´ë¸” ì—…ë°ì´íŠ¸ (status: 'approved', processed_at ì„¤ì •)
3. tutor_students í…Œì´ë¸”ì— ê´€ê³„ ì¶”ê°€ (DynamoDB íŠ¸ëœì­ì…˜ ì‚¬ìš©)
4. ë³‘ë ¬ ì²˜ë¦¬ (ë™ì‹œ ì‹¤í–‰):
   - **WebSocket ì•Œë¦¼**: í•™ìƒì—ê²Œ ì¦‰ì‹œ ì „ì†¡ (TUTOR_REQUEST_APPROVED)
   - **SQS íì‰**: NotificationQueueì— ë©”ì‹œì§€ ì „ì†¡ â†’ Lambdaê°€ ì†Œë¹„í•˜ì—¬ notifications í…Œì´ë¸”ì— ì €ì¥
   - **ì´ë©”ì¼ ì•Œë¦¼**: Amazon SESë¡œ ì „ì†¡
     - ì œëª©: "[SpeakTracker] íŠœí„° ë“±ë¡ ìš”ì²­ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤"
     - ë‚´ìš©: íŠœí„° ì´ë¦„, ìŠ¹ì¸ ì¼ì‹œ, í•™ìŠµ ì‹œì‘ ì•ˆë‚´

**Error Cases:**
- 400: ì´ë¯¸ ì²˜ë¦¬ëœ ìš”ì²­
- 400: íŠœí„°ì˜ ì •ì›ì´ ê°€ë“ ì°¸
- 403: ë³¸ì¸ì˜ ìš”ì²­ì´ ì•„ë‹˜
- 404: ìš”ì²­ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

### 6. ë“±ë¡ ìš”ì²­ ê±°ë¶€ (íŠœí„°ìš©)

```http
POST /api/tutors/requests/{request_id}/reject
Authorization: Bearer {token}
Content-Type: application/json
```

**Request Body:**
```json
{
  "reason": "í˜„ì¬ ì •ì›ì´ ê°€ë“ ì°¨ì„œ ë” ì´ìƒ í•™ìƒì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

**Response:**
```json
{
  "request_id": "req_abc123",
  "status": "rejected",
  "student_email": "student1@example.com",
  "processed_at": "2026-01-20T11:00:00Z",
  "rejection_reason": "í˜„ì¬ ì •ì›ì´ ê°€ë“ ì°¨ì„œ ë” ì´ìƒ í•™ìƒì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
  "message": "ìš”ì²­ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**Lambda ì²˜ë¦¬ ë¡œì§:**
1. ìš”ì²­ ìœ íš¨ì„± ê²€ì‚¬ (ì´ë¯¸ ì²˜ë¦¬ë¨, ê¶Œí•œ í™•ì¸)
2. tutor_requests í…Œì´ë¸” ì—…ë°ì´íŠ¸ (status: 'rejected', processed_at, rejection_reason ì„¤ì •)
3. ë³‘ë ¬ ì²˜ë¦¬ (ë™ì‹œ ì‹¤í–‰):
   - **WebSocket ì•Œë¦¼**: í•™ìƒì—ê²Œ ì¦‰ì‹œ ì „ì†¡ (TUTOR_REQUEST_REJECTED)
   - **SQS íì‰**: NotificationQueueì— ë©”ì‹œì§€ ì „ì†¡ â†’ Lambdaê°€ ì†Œë¹„í•˜ì—¬ notifications í…Œì´ë¸”ì— ì €ì¥
   - **ì´ë©”ì¼ ì•Œë¦¼**: Amazon SESë¡œ ì „ì†¡
     - ì œëª©: "[SpeakTracker] íŠœí„° ë“±ë¡ ìš”ì²­ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤"
     - ë‚´ìš©: íŠœí„° ì´ë¦„, ê±°ë¶€ ì‚¬ìœ , ë‹¤ë¥¸ íŠœí„° ê²€ìƒ‰ ì•ˆë‚´

### 7. ìš”ì²­ ì·¨ì†Œ (í•™ìƒìš©)

```http
DELETE /api/my/tutor-requests/{request_id}
Authorization: Bearer {token}
```

**Response:**
```json
{
  "request_id": "req_abc123",
  "status": "cancelled",
  "message": "ìš”ì²­ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**ì¡°ê±´:**
- pending ìƒíƒœì¼ ë•Œë§Œ ì·¨ì†Œ ê°€ëŠ¥
- ì´ë¯¸ ìŠ¹ì¸/ê±°ë¶€ëœ ìš”ì²­ì€ ì·¨ì†Œ ë¶ˆê°€

---

## Lambda Functions ì„¤ê³„

### 1. TutorRegisterFunction (ì‹ ê·œ)

**ì—­í• **: íŠœí„° ë“±ë¡ ê´€ë ¨ ëª¨ë“  API ì²˜ë¦¬

**ì—”ë“œí¬ì¸íŠ¸:**
- `GET /api/tutors` - íŠœí„° ëª©ë¡ ì¡°íšŒ
- `POST /api/tutors/{email}/request` - ë“±ë¡ ìš”ì²­
- `GET /api/my/tutor-requests` - í•™ìƒì˜ ìš”ì²­ ëª©ë¡
- `DELETE /api/my/tutor-requests/{id}` - ìš”ì²­ ì·¨ì†Œ
- `GET /api/tutor/requests` - íŠœí„°ì˜ ìš”ì²­ ëª©ë¡
- `POST /api/tutors/requests/{id}/approve` - ìŠ¹ì¸
- `POST /api/tutors/requests/{id}/reject` - ê±°ë¶€

**Dependencies:**
```gradle
dependencies {
    implementation 'com.amazonaws:aws-lambda-java-core:1.2.2'
    implementation 'com.amazonaws:aws-lambda-java-events:3.11.0'
    implementation 'software.amazon.awssdk:dynamodb:2.20.0'
    implementation 'software.amazon.awssdk:apigatewaymanagementapi:2.20.0' // WebSocket
    implementation 'software.amazon.awssdk:sqs:2.20.0' // SQS
    implementation 'software.amazon.awssdk:ses:2.20.0' // Email ì•Œë¦¼
    implementation 'com.google.code.gson:gson:2.10.1'
    implementation 'java.util.UUID'
}
```

**í™˜ê²½ ë³€ìˆ˜:**
- `USERS_TABLE`: users í…Œì´ë¸” ì´ë¦„
- `TUTOR_REQUESTS_TABLE`: tutor_requests í…Œì´ë¸” ì´ë¦„
- `TUTOR_STUDENTS_TABLE`: tutor_students í…Œì´ë¸” ì´ë¦„
- `CONNECTIONS_TABLE`: websocket_connections í…Œì´ë¸” ì´ë¦„
- `WEBSOCKET_API_ENDPOINT`: WebSocket API ì—”ë“œí¬ì¸íŠ¸
- `NOTIFICATION_QUEUE_URL`: SQS ì•Œë¦¼ í URL
- `SES_SENDER_EMAIL`: ë°œì‹ ì ì´ë©”ì¼ ì£¼ì†Œ (ì˜ˆ: noreply@speaktracker.com)
- `FRONTEND_URL`: í”„ë¡ íŠ¸ì—”ë“œ URL (ì´ë©”ì¼ ë§í¬ìš©)

### 2. NotificationPersistenceFunction (ì‹ ê·œ)

**ì—­í• **: SQSì—ì„œ ì•Œë¦¼ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ì—¬ DynamoDBì— ì €ì¥

**ì´ë²¤íŠ¸ ì†ŒìŠ¤**: SQS (NotificationQueue)

**Dependencies:**
```gradle
dependencies {
    implementation 'com.amazonaws:aws-lambda-java-core:1.2.2'
    implementation 'com.amazonaws:aws-lambda-java-events:3.11.0'
    implementation 'software.amazon.awssdk:dynamodb:2.20.0'
    implementation 'com.google.code.gson:gson:2.10.1'
}
```

**í™˜ê²½ ë³€ìˆ˜:**
- `NOTIFICATIONS_TABLE`: notifications í…Œì´ë¸” ì´ë¦„

**ì²˜ë¦¬ ë¡œì§:**
```java
public class NotificationPersistenceHandler implements RequestHandler<SQSEvent, Void> {
    
    @Override
    public Void handleRequest(SQSEvent event, Context context) {
        for (SQSEvent.SQSMessage message : event.getRecords()) {
            try {
                // 1. SQS ë©”ì‹œì§€ íŒŒì‹±
                NotificationMessage notification = parseMessage(message.getBody());
                
                // 2. DynamoDBì— ì €ì¥
                saveNotification(notification);
                
                context.getLogger().log("Saved notification: " + notification.getNotificationId());
            } catch (Exception e) {
                // ì‹¤íŒ¨ ì‹œ SQSê°€ ìë™ ì¬ì‹œë„ ë˜ëŠ” DLQë¡œ ì´ë™
                throw new RuntimeException(e);
            }
        }
        return null;
    }
}
```

## ì•Œë¦¼ ì²˜ë¦¬

### 1. WebSocket ì•Œë¦¼ íƒ€ì…

1. **íŠœí„°ì—ê²Œ ì•Œë¦¼ (ìƒˆ ìš”ì²­)**
```json
{
  "type": "NEW_TUTOR_REQUEST",
  "data": {
    "request_id": "req_abc123",
    "student_email": "student1@example.com",
    "student_name": "ê¹€ì˜í¬",
    "message": "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ ë“±ë¡ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.",
    "created_at": "2026-01-20T10:30:00Z"
  }
}
```

2. **í•™ìƒì—ê²Œ ì•Œë¦¼ (ìŠ¹ì¸)**
```json
{
  "type": "TUTOR_REQUEST_APPROVED",
  "data": {
    "request_id": "req_abc123",
    "tutor_email": "tutor1@example.com",
    "tutor_name": "ì´ì˜ì–´",
    "processed_at": "2026-01-20T11:00:00Z"
  }
}
```

3. **í•™ìƒì—ê²Œ ì•Œë¦¼ (ê±°ë¶€)**
```json
{
  "type": "TUTOR_REQUEST_REJECTED",
  "data": {
    "request_id": "req_abc123",
    "tutor_email": "tutor1@example.com",
    "tutor_name": "ì´ì˜ì–´",
    "rejection_reason": "í˜„ì¬ ì •ì›ì´ ê°€ë“ ì°¨ì„œ ë” ì´ìƒ í•™ìƒì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "processed_at": "2026-01-20T11:00:00Z"
  }
}
```

---

### 2. ì´ë©”ì¼ ì•Œë¦¼ íƒ€ì… (Amazon SES)

**ì•Œë¦¼ íƒ€ì…:**

1. **íŠœí„°ì—ê²Œ ì´ë©”ì¼ (ìƒˆ ìš”ì²­)**
```
ì œëª©: [SpeakTracker] ìƒˆë¡œìš´ í•™ìƒ ë“±ë¡ ìš”ì²­

ì•ˆë…•í•˜ì„¸ìš”, [íŠœí„° ì´ë¦„]ë‹˜

[í•™ìƒ ì´ë¦„]ë‹˜ì´ íŠœí„° ë“±ë¡ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤.

ìš”ì²­ ë©”ì‹œì§€:
"[í•™ìƒì˜ ë©”ì‹œì§€]"

ëŒ€ì‹œë³´ë“œì—ì„œ ìš”ì²­ì„ í™•ì¸í•˜ê³  ìŠ¹ì¸/ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
â†’ [ëŒ€ì‹œë³´ë“œ ë§í¬]

ê°ì‚¬í•©ë‹ˆë‹¤.
SpeakTracker íŒ€
```

2. **í•™ìƒì—ê²Œ ì´ë©”ì¼ (ìŠ¹ì¸)**
```
ì œëª©: [SpeakTracker] íŠœí„° ë“±ë¡ ìš”ì²­ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤

ì•ˆë…•í•˜ì„¸ìš”, [í•™ìƒ ì´ë¦„]ë‹˜

[íŠœí„° ì´ë¦„]ë‹˜ì´ ë“±ë¡ ìš”ì²­ì„ ìŠ¹ì¸í–ˆìŠµë‹ˆë‹¤!

ì´ì œ [íŠœí„° ì´ë¦„]ë‹˜ê³¼ í•¨ê»˜ í•™ìŠµì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
â†’ [í•™ìŠµ ì‹œì‘í•˜ê¸° ë§í¬]

ê°ì‚¬í•©ë‹ˆë‹¤.
SpeakTracker íŒ€
```

3. **í•™ìƒì—ê²Œ ì´ë©”ì¼ (ê±°ë¶€)**
```
ì œëª©: [SpeakTracker] íŠœí„° ë“±ë¡ ìš”ì²­ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤

ì•ˆë…•í•˜ì„¸ìš”, [í•™ìƒ ì´ë¦„]ë‹˜

[íŠœí„° ì´ë¦„]ë‹˜ì´ ë“±ë¡ ìš”ì²­ì„ ê±°ë¶€í–ˆìŠµë‹ˆë‹¤.

ê±°ë¶€ ì‚¬ìœ :
"[ê±°ë¶€ ì‚¬ìœ ]"

ë‹¤ë¥¸ íŠœí„°ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”.
â†’ [íŠœí„° ê²€ìƒ‰í•˜ê¸° ë§í¬]

ê°ì‚¬í•©ë‹ˆë‹¤.
SpeakTracker íŒ€
```

**SES ì„¤ì • ìš”êµ¬ì‚¬í•­:**
- ë°œì‹ ì ì´ë©”ì¼ ê²€ì¦ í•„ìš” (ì˜ˆ: noreply@speaktracker.com)
- Production í™˜ê²½ì—ì„œëŠ” ìˆ˜ì‹ ì ì´ë©”ì¼ ê²€ì¦ ë¶ˆí•„ìš”
- Sandbox ëª¨ë“œì—ì„œëŠ” ìˆ˜ì‹ ì ì´ë©”ì¼ë„ ê²€ì¦ í•„ìš”

---

## WebSocket + SQS ì•„í‚¤í…ì²˜

### í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```
[í•™ìƒ] ë“±ë¡ ìš”ì²­
    â†“
[TutorRegisterFunction]
    â†“
    â”œâ”€â†’ (1) tutor_requests í…Œì´ë¸”ì— ì €ì¥
    â””â”€â†’ (2) ë³‘ë ¬ ì²˜ë¦¬ (ë™ì‹œ ì‹¤í–‰)
         â”œâ”€â†’ WebSocketìœ¼ë¡œ íŠœí„°ì—ê²Œ ì¦‰ì‹œ ì „ì†¡ (ì‹¤ì‹œê°„)
         â”œâ”€â†’ SQS NotificationQueueì— ë©”ì‹œì§€ íì‰
         â””â”€â†’ SESë¡œ ì´ë©”ì¼ ì „ì†¡
    
[SQS NotificationQueue]
    â†“
[NotificationPersistenceFunction]
    â†“
[notifications í…Œì´ë¸”ì— ì•Œë¦¼ ì´ë ¥ ì €ì¥]
```

### ì¥ì 

1. **ë¹ ë¥¸ ì‘ë‹µ**: WebSocketì€ ì¦‰ì‹œ ì „ì†¡, DB ì €ì¥ì€ ë¹„ë™ê¸°
2. **ì‹ ë¢°ì„±**: SQS ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì €ì¥ ì‹¤íŒ¨ ë°©ì§€
3. **í™•ì¥ì„±**: ì•Œë¦¼ íŠ¸ë˜í”½ ì¦ê°€ì—ë„ ì•ˆì •ì  ì²˜ë¦¬
4. **ì´ë ¥ ê´€ë¦¬**: notifications í…Œì´ë¸”ì— ëª¨ë“  ì•Œë¦¼ ì´ë ¥ ë³´ê´€

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### 1. ì¤‘ë³µ ìš”ì²­ ë°©ì§€

```java
// í•™ìƒì´ ê°™ì€ íŠœí„°ì—ê²Œ pending ìš”ì²­ì´ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸
QueryRequest queryRequest = QueryRequest.builder()
    .tableName(TUTOR_REQUESTS_TABLE)
    .indexName("student_email-created_at-index")
    .keyConditionExpression("student_email = :email")
    .filterExpression("tutor_email = :tutor AND #status = :pending")
    .expressionAttributeNames(Map.of("#status", "status"))
    .expressionAttributeValues(Map.of(
        ":email", AttributeValue.builder().s(studentEmail).build(),
        ":tutor", AttributeValue.builder().s(tutorEmail).build(),
        ":pending", AttributeValue.builder().s("pending").build()
    ))
    .build();

// ê²°ê³¼ê°€ ìˆìœ¼ë©´ 400 ì—ëŸ¬ ë°˜í™˜
```

### 2. ì´ë¯¸ ë“±ë¡ëœ í•™ìƒì¸ì§€ í™•ì¸

```java
// tutor_students í…Œì´ë¸”ì—ì„œ ê´€ê³„ í™•ì¸
GetItemRequest getItemRequest = GetItemRequest.builder()
    .tableName(TUTOR_STUDENTS_TABLE)
    .key(Map.of(
        "tutor_email", AttributeValue.builder().s(tutorEmail).build(),
        "student_email", AttributeValue.builder().s(studentEmail).build()
    ))
    .build();

// ì´ë¯¸ ê´€ê³„ê°€ ìˆìœ¼ë©´ 400 ì—ëŸ¬ ë°˜í™˜
```

### 3. íŠœí„° ì •ì› í™•ì¸

```java
// íŠœí„°ì˜ í˜„ì¬ í•™ìƒ ìˆ˜ ì¡°íšŒ
QueryRequest queryRequest = QueryRequest.builder()
    .tableName(TUTOR_STUDENTS_TABLE)
    .keyConditionExpression("tutor_email = :email")
    .filterExpression("#status = :active")
    .expressionAttributeNames(Map.of("#status", "status"))
    .expressionAttributeValues(Map.of(
        ":email", AttributeValue.builder().s(tutorEmail).build(),
        ":active", AttributeValue.builder().s("active").build()
    ))
    .select(Select.COUNT)
    .build();

int currentStudents = response.count();

// users í…Œì´ë¸”ì—ì„œ max_students ì¡°íšŒ
GetItemRequest getUserRequest = GetItemRequest.builder()
    .tableName(USERS_TABLE)
    .key(Map.of("email", AttributeValue.builder().s(tutorEmail).build()))
    .build();

int maxStudents = Integer.parseInt(
    response.item().get("max_students").n()
);

if (currentStudents >= maxStudents) {
    // 400 ì—ëŸ¬: ì •ì› ì´ˆê³¼
}
```

### 4. ìë™ ë§Œë£Œ (ì„ íƒì‚¬í•­)

Lambda + EventBridgeë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤ì¼ ì‹¤í–‰:
- 7ì¼ ì´ìƒ pending ìƒíƒœì¸ ìš”ì²­ì„ ìë™ ì·¨ì†Œ
- í•™ìƒì—ê²Œ ë§Œë£Œ ì•Œë¦¼

```java
// Scanìœ¼ë¡œ 7ì¼ ì´ìƒ pending ìš”ì²­ ì°¾ê¸°
long sevenDaysAgo = Instant.now().minus(7, ChronoUnit.DAYS)
    .toEpochMilli();

ScanRequest scanRequest = ScanRequest.builder()
    .tableName(TUTOR_REQUESTS_TABLE)
    .filterExpression("#status = :pending AND created_at < :threshold")
    .expressionAttributeNames(Map.of("#status", "status"))
    .expressionAttributeValues(Map.of(
        ":pending", AttributeValue.builder().s("pending").build(),
        ":threshold", AttributeValue.builder().n(String.valueOf(sevenDaysAgo)).build()
    ))
    .build();

// ê° ìš”ì²­ì„ 'cancelled' ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
```

---

## êµ¬í˜„ ë‹¨ê³„

### Phase 1: ì¸í”„ë¼ êµ¬ì¶• (1-2ì¼)

- [x] DynamoDB í…Œì´ë¸” ìƒì„±
  - [x] tutor_requests í…Œì´ë¸” (PK: request_id, SK: created_at)
  - [x] GSI1: student_email-created_at-index
  - [x] GSI2: tutor_email-status-created_at-index
  - [x] TTL ì„¤ì • (90ì¼)
  - [x] notifications í…Œì´ë¸” (PK: user_email, SK: notification_id#timestamp)
  - [x] GSI: user_email-is_read-created_at-index
  - [x] TTL ì„¤ì • (30ì¼)
- [x] ê¸°ì¡´ í…Œì´ë¸” í™•ì¸ ë° ì—…ë°ì´íŠ¸
  - [x] tutor_students í…Œì´ë¸” í™•ì¸ (PK: tutor_email, SK: student_email)
  - [x] GSI: student_email-index í™•ì¸
  - [x] websocket_connections í…Œì´ë¸” í™•ì¸
  - [x] GSI: user_email-index í™•ì¸
- [ ] users í…Œì´ë¸”ì— íŠœí„° ê´€ë ¨ í•„ë“œ ì¶”ê°€
  - [ ] bio, specialties, max_students, is_accepting
- [x] SQS í ìƒì„±
  - [x] NotificationQueue ìƒì„±
  - [x] NotificationDLQ (Dead Letter Queue) ìƒì„±
  - [x] VisibilityTimeout: 300ì´ˆ
  - [x] MessageRetentionPeriod: 14ì¼
- [x] Lambda Functions ìƒì„±
  - [x] TutorRegisterFunction Lambda ìƒì„±
    - [x] build.gradle ì„¤ì • (DynamoDB, WebSocket, SQS, SES SDK)
    - [x] í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ êµ¬ì¡° ìƒì„±
    - [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (USERS_TABLE, TUTOR_REQUESTS_TABLE, TUTOR_STUDENTS_TABLE, CONNECTIONS_TABLE, NOTIFICATION_QUEUE_URL, SES_SENDER_EMAIL, FRONTEND_URL)
    - [x] IAM Policies ì„¤ì • (DynamoDB, SQS, SES, WebSocket)
  - [x] NotificationPersistenceFunction Lambda ìƒì„±
    - [x] build.gradle ì„¤ì • (DynamoDB SDK)
    - [x] SQS ì´ë²¤íŠ¸ ì†ŒìŠ¤ ì—°ê²°
    - [x] BatchSize: 10, MaximumBatchingWindowInSeconds: 5
    - [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (NOTIFICATIONS_TABLE)
    - [x] IAM Policies ì„¤ì • (DynamoDB)

### Phase 2: í•™ìƒ ê¸°ëŠ¥ êµ¬í˜„ (2-3ì¼)

- [x] íŠœí„° ëª©ë¡ ì¡°íšŒ API
  - [x] GET /api/tutors
  - [x] ê²€ìƒ‰ ë° í•„í„°ë§ ë¡œì§
  - [x] my_request_status í¬í•¨
- [x] ë“±ë¡ ìš”ì²­ API
  - [x] POST /api/tutors/{email}/request
  - [x] Lambda: ìœ íš¨ì„± ê²€ì‚¬ (ì¤‘ë³µ, ì •ì›, is_accepting)
  - [x] Lambda: tutor_requests í…Œì´ë¸”ì— status='pending' ì €ì¥
  - [x] Lambda: ë³‘ë ¬ ì²˜ë¦¬
    - [x] íŠœí„°ì—ê²Œ WebSocket ì•Œë¦¼ ì „ì†¡
    - [x] SQS NotificationQueueì— ë©”ì‹œì§€ íì‰
    - [x] SESë¡œ ì´ë©”ì¼ ì•Œë¦¼ ì „ì†¡
- [x] ë‚´ ìš”ì²­ ëª©ë¡ ì¡°íšŒ API
  - [x] GET /api/my/tutor-requests
  - [x] ìƒíƒœë³„ í•„í„°ë§
- [x] ìš”ì²­ ì·¨ì†Œ API
  - [x] DELETE /api/my/tutor-requests/{id}

### Phase 3: íŠœí„° ê¸°ëŠ¥ êµ¬í˜„ (2-3ì¼)

- [x] ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¡°íšŒ API
  - [x] GET /api/tutor/requests
  - [x] GSIë¡œ pending ìš”ì²­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
  - [x] ëŒ€ê¸° ì¼ìˆ˜ ê³„ì‚°
- [x] ìŠ¹ì¸ API
  - [x] POST /api/tutors/requests/{id}/approve
  - [x] Lambda: tutor_requests â†’ status='approved' ì—…ë°ì´íŠ¸
  - [x] Lambda: tutor_students í…Œì´ë¸”ì— ê´€ê³„ ì¶”ê°€
  - [x] Lambda: íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (DynamoDB TransactWriteItems)
  - [x] Lambda: ë³‘ë ¬ ì²˜ë¦¬
    - [x] í•™ìƒì—ê²Œ WebSocket ì•Œë¦¼ ì „ì†¡
    - [x] SQS NotificationQueueì— ë©”ì‹œì§€ íì‰
    - [x] SESë¡œ ì´ë©”ì¼ ì•Œë¦¼ ì „ì†¡
- [x] ê±°ë¶€ API
  - [x] POST /api/tutors/requests/{id}/reject
  - [x] Lambda: tutor_requests â†’ status='rejected' ì—…ë°ì´íŠ¸
  - [x] Lambda: rejection_reason ì €ì¥
  - [x] Lambda: ë³‘ë ¬ ì²˜ë¦¬
    - [x] í•™ìƒì—ê²Œ WebSocket ì•Œë¦¼ ì „ì†¡
    - [x] SQS NotificationQueueì— ë©”ì‹œì§€ íì‰
    - [x] SESë¡œ ì´ë©”ì¼ ì•Œë¦¼ ì „ì†¡

### Phase 4: SQS Consumer ë° ì•Œë¦¼ ì´ë ¥ ì €ì¥ (1ì¼)

- [x] NotificationPersistenceFunction êµ¬í˜„
  - [x] SQS ë©”ì‹œì§€ íŒŒì‹±
  - [x] notifications í…Œì´ë¸”ì— ì•Œë¦¼ ì´ë ¥ ì €ì¥
  - [x] ì—ëŸ¬ ì²˜ë¦¬ ë° DLQ í™œìš©
- [x] WebSocket ì•Œë¦¼ í—¬í¼ í´ë˜ìŠ¤ ì‘ì„±
  - [x] ì—°ê²° ì¡°íšŒ ë¡œì§
  - [x] ë©”ì‹œì§€ ì „ì†¡ ë¡œì§
  - [x] ì—°ê²° ëŠê¹€ ì²˜ë¦¬ (fallback)
- [x] ì´ë©”ì¼ ì•Œë¦¼ í—¬í¼ í´ë˜ìŠ¤ ì‘ì„± (Amazon SES)
  - [x] ì´ë©”ì¼ í…œí”Œë¦¿ ì‘ì„±
  - [x] SES ì „ì†¡ ë¡œì§

### Phase 5: API Gateway ì—°ë™ ë° ê¶Œí•œ ê²€ì¦ (1ì¼)

- [x] template.yamlì— API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- [x] CORS ì„¤ì •
- [x] Cognito ì¸ì¦ ì—°ë™
- [x] ê¶Œí•œ ê²€ì¦ (í•™ìƒ/íŠœí„° role) âœ… **ì™„ë£Œ**
  - [x] DynamoDB users í…Œì´ë¸”ì—ì„œ role ì¡°íšŒ ë°©ì‹ êµ¬í˜„
  - [x] `getUserRole(email)` ë©”ì„œë“œë¡œ DynamoDB ì¡°íšŒ
  - [x] `requireStudent()` / `requireTutor()` ê¶Œí•œ ê²€ì¦ ë¡œì§
  - [x] ê° API ì—”ë“œí¬ì¸íŠ¸ì— role ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ì ìš©
  - [x] 403 Forbidden ì—ëŸ¬ ì²˜ë¦¬ (FORBIDDEN_STUDENT_ONLY, FORBIDDEN_TUTOR_ONLY)

### Phase 6: í…ŒìŠ¤íŠ¸ (2ì¼)

- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
  - [ ] ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§
  - [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
  - [ ] API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
  - [ ] DynamoDB ì‘ì—… í…ŒìŠ¤íŠ¸
- [ ] ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
  - [ ] ì •ìƒ í”Œë¡œìš° (ìš”ì²­ â†’ ìŠ¹ì¸)
  - [ ] ì •ìƒ í”Œë¡œìš° (ìš”ì²­ â†’ ê±°ë¶€)
  - [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ (ì¤‘ë³µ, ì •ì› ì´ˆê³¼ ë“±)
  - [ ] WebSocket ì•Œë¦¼ ìˆ˜ì‹  í…ŒìŠ¤íŠ¸
  - [ ] ì´ë©”ì¼ ì•Œë¦¼ ìˆ˜ì‹  í…ŒìŠ¤íŠ¸
  - [ ] SQS â†’ DynamoDB ì €ì¥ í…ŒìŠ¤íŠ¸

### Phase 7: ì¶”ê°€ ê¸°ëŠ¥ (ì„ íƒì‚¬í•­, 1-2ì¼)

- [ ] ìë™ ë§Œë£Œ Lambda (EventBridge)
- [ ] íŠœí„° í‰ì  ì‹œìŠ¤í…œ
- [ ] í†µê³„ (ìŠ¹ì¸ë¥ , í‰ê·  ì‘ë‹µ ì‹œê°„)

---

## ì—ëŸ¬ ì²˜ë¦¬

### ê³µí†µ ì—ëŸ¬ í˜•ì‹

```json
{
  "error": {
    "code": "DUPLICATE_REQUEST",
    "message": "ì´ë¯¸ í•´ë‹¹ íŠœí„°ì—ê²Œ ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ì´ ìˆìŠµë‹ˆë‹¤.",
    "details": {
      "existing_request_id": "req_abc123",
      "status": "pending",
      "created_at": "2026-01-19T10:30:00Z"
    }
  }
}
```

### ì—ëŸ¬ ì½”ë“œ

| ì½”ë“œ | HTTP Status | ì„¤ëª… |
|------|-------------|------|
| DUPLICATE_REQUEST | 400 | ì´ë¯¸ ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¡´ì¬ |
| ALREADY_REGISTERED | 400 | ì´ë¯¸ í•´ë‹¹ íŠœí„°ì˜ í•™ìƒ |
| TUTOR_NOT_ACCEPTING | 400 | íŠœí„°ê°€ í•™ìƒì„ ë°›ì§€ ì•ŠìŒ |
| CAPACITY_FULL | 400 | íŠœí„° ì •ì› ì´ˆê³¼ |
| TUTOR_NOT_FOUND | 404 | íŠœí„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ |
| REQUEST_NOT_FOUND | 404 | ìš”ì²­ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ |
| REQUEST_ALREADY_PROCESSED | 400 | ì´ë¯¸ ì²˜ë¦¬ëœ ìš”ì²­ |
| UNAUTHORIZED | 403 | ê¶Œí•œ ì—†ìŒ |
| CANNOT_CANCEL | 400 | ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœ |

---

## í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ì •ìƒ í”Œë¡œìš°: ìŠ¹ì¸

```
1. [í•™ìƒ] POST /api/tutors/tutor1@example.com/request
   â†’ 201 Created, request_id ë°˜í™˜
   
2. [Lambda] 
   â†’ tutor_requests í…Œì´ë¸”ì— status='pending' ì €ì¥
   â†’ WebSocket: íŠœí„°ì—ê²Œ NEW_TUTOR_REQUEST ì•Œë¦¼

3. [íŠœí„°] GET /api/tutor/requests
   â†’ 200 OK, pending ìš”ì²­ 1ê±´ í¬í•¨

4. [íŠœí„°] POST /api/tutors/requests/{id}/approve
   â†’ 200 OK, ìŠ¹ì¸ ì™„ë£Œ
   
5. [Lambda]
   â†’ tutor_requests â†’ status='approved' ì—…ë°ì´íŠ¸
   â†’ tutor_students í…Œì´ë¸”ì— ê´€ê³„ ì¶”ê°€ (íŠ¸ëœì­ì…˜)
   â†’ WebSocket: í•™ìƒì—ê²Œ TUTOR_REQUEST_APPROVED ì•Œë¦¼

6. [í•™ìƒ] GET /api/my/tutor-requests
   â†’ 200 OK, status: 'approved' í™•ì¸
```

### 2. ì •ìƒ í”Œë¡œìš°: ê±°ë¶€

```
1. [í•™ìƒ] POST /api/tutors/tutor1@example.com/request
   â†’ 201 Created
   
2. [Lambda]
   â†’ tutor_requests í…Œì´ë¸”ì— status='pending' ì €ì¥
   â†’ WebSocket: íŠœí„°ì—ê²Œ NEW_TUTOR_REQUEST ì•Œë¦¼

3. [íŠœí„°] POST /api/tutors/requests/{id}/reject
   Body: { "reason": "ì •ì› ì´ˆê³¼" }
   â†’ 200 OK
   
4. [Lambda]
   â†’ tutor_requests â†’ status='rejected' ì—…ë°ì´íŠ¸
   â†’ rejection_reason ì €ì¥
   â†’ WebSocket: í•™ìƒì—ê²Œ TUTOR_REQUEST_REJECTED ì•Œë¦¼

5. [í•™ìƒ] GET /api/my/tutor-requests
   â†’ 200 OK, status: 'rejected', rejection_reason í™•ì¸
```

### 3. ì—ëŸ¬ ì¼€ì´ìŠ¤: ì¤‘ë³µ ìš”ì²­

```
1. [í•™ìƒ] POST /api/tutors/tutor1@example.com/request
   â†’ 201 Created

2. [í•™ìƒ] POST /api/tutors/tutor1@example.com/request (ë‹¤ì‹œ ìš”ì²­)
   â†’ 400 Bad Request
   â†’ { "error": { "code": "DUPLICATE_REQUEST", ... } }
```

### 4. ì—ëŸ¬ ì¼€ì´ìŠ¤: ì •ì› ì´ˆê³¼

```
1. [í•™ìƒ] POST /api/tutors/tutor_full@example.com/request
   (ì´ íŠœí„°ëŠ” ì´ë¯¸ ì •ì›ì´ ê°€ë“ ì°¸)
   â†’ 400 Bad Request
   â†’ { "error": { "code": "CAPACITY_FULL", ... } }
```

### 5. ìš”ì²­ ì·¨ì†Œ

```
1. [í•™ìƒ] POST /api/tutors/tutor1@example.com/request
   â†’ 201 Created, request_id: req_abc123

2. [í•™ìƒ] DELETE /api/my/tutor-requests/req_abc123
   â†’ 200 OK, status: 'cancelled'

3. [íŠœí„°] GET /api/tutor/requests
   â†’ 200 OK, í•´ë‹¹ ìš”ì²­ì€ ëª©ë¡ì— ì—†ìŒ (cancelledëŠ” ì œì™¸)
```

---

## UI í™”ë©´ êµ¬ì„±

### í•™ìƒ í™”ë©´

#### 1. íŠœí„° ê²€ìƒ‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” íŠœí„° ê²€ìƒ‰                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì´ë¦„ ë˜ëŠ” ì „ë¬¸ë¶„ì•¼ ê²€ìƒ‰...       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  í•„í„°: [ì „ì²´] [ë°œìŒ] [ë¬¸ë²•] [íšŒí™”]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ íŠœí„° ëª©ë¡ (12ëª…)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ì´ì˜ì–´                              â”‚
â”‚     10ë…„ ê²½ë ¥ ì˜ì–´ ë°œìŒ ì „ë¬¸ íŠœí„°        â”‚
â”‚     ì „ë¬¸ë¶„ì•¼: ë°œìŒ, íšŒí™”                 â”‚
â”‚     í•™ìƒ: 8/15ëª…                        â”‚
â”‚     [ë“±ë¡ ìš”ì²­]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ë°•ë°œìŒ                              â”‚
â”‚     ë¯¸êµ­ ê±°ì£¼ 10ë…„ ì›ì–´ë¯¼ ìˆ˜ì¤€ ë°œìŒ êµì •  â”‚
â”‚     ì „ë¬¸ë¶„ì•¼: ë°œìŒ                      â”‚
â”‚     í•™ìƒ: 10/10ëª… (ë§ˆê°)                â”‚
â”‚     [ëŒ€ê¸° ì¤‘] â† ìš”ì²­ ë³´ë‚¸ ìƒíƒœ           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ìµœíšŒí™”                              â”‚
â”‚     ì˜ì–´ íšŒí™” ì¤‘ì‹¬ í•™ìŠµ                  â”‚
â”‚     ì „ë¬¸ë¶„ì•¼: íšŒí™”                      â”‚
â”‚     í•™ìƒ: 5/20ëª…                        â”‚
â”‚     âœ… ë“±ë¡ë¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ë‚´ íŠœí„° ìš”ì²­ í˜„í™©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¬ ë‚´ íŠœí„° ë“±ë¡ ìš”ì²­                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â³ ëŒ€ê¸° ì¤‘ (1ê±´)                        â”‚
â”‚                                         â”‚
â”‚  ğŸ‘¤ ì´ì˜ì–´ íŠœí„°                          â”‚
â”‚     ìš”ì²­ì¼: 2026-01-20 (1ì¼ ì „)         â”‚
â”‚     ë©”ì‹œì§€: "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ..." â”‚
â”‚     [ìš”ì²­ ì·¨ì†Œ]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ìŠ¹ì¸ë¨ (1ê±´)                         â”‚
â”‚                                         â”‚
â”‚  ğŸ‘¤ ìµœíšŒí™” íŠœí„°                          â”‚
â”‚     ìŠ¹ì¸ì¼: 2026-01-18                  â”‚
â”‚     í•™ìŠµ ì‹œì‘ â†’                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ ê±°ë¶€ë¨ (1ê±´)                         â”‚
â”‚                                         â”‚
â”‚  ğŸ‘¤ ë°•ë°œìŒ íŠœí„°                          â”‚
â”‚     ê±°ë¶€ì¼: 2026-01-17                  â”‚
â”‚     ì‚¬ìœ : "í˜„ì¬ ì •ì›ì´ ê°€ë“ ì°¨ì„œ..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íŠœí„° í™”ë©´

#### 1. ëŒ€ê¸° ì¤‘ì¸ ë“±ë¡ ìš”ì²­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¬ ëŒ€ê¸° ì¤‘ì¸ ë“±ë¡ ìš”ì²­ (3ê±´)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ê¹€ì˜í¬                              â”‚
â”‚     ìš”ì²­ì¼: 2026-01-20 (1ì¼ ì „)         â”‚
â”‚     ë©”ì‹œì§€: "ë°œìŒ êµì •ì„ ë°›ê³  ì‹¶ì–´ì„œ     â”‚
â”‚              ë“±ë¡ ìš”ì²­ë“œë¦½ë‹ˆë‹¤."         â”‚
â”‚     [ìŠ¹ì¸] [ê±°ë¶€]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ë°•ì² ìˆ˜                              â”‚
â”‚     ìš”ì²­ì¼: 2026-01-19 (2ì¼ ì „)         â”‚
â”‚     ë©”ì‹œì§€: "íšŒí™” ì‹¤ë ¥ í–¥ìƒì„ ìœ„í•´       â”‚
â”‚              ë“±ë¡ ìš”ì²­í•©ë‹ˆë‹¤."           â”‚
â”‚     [ìŠ¹ì¸] [ê±°ë¶€]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ì´ìˆœì‹                               â”‚
â”‚     ìš”ì²­ì¼: 2026-01-18 (3ì¼ ì „)         â”‚
â”‚     ë©”ì‹œì§€: "ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤!"          â”‚
â”‚     [ìŠ¹ì¸] [ê±°ë¶€]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ê±°ë¶€ ëª¨ë‹¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ ë“±ë¡ ìš”ì²­ ê±°ë¶€                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í•™ìƒ: ê¹€ì˜í¬                            â”‚
â”‚                                         â”‚
â”‚  ê±°ë¶€ ì‚¬ìœ  (ì„ íƒì‚¬í•­):                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ í˜„ì¬ ì •ì›ì´ ê°€ë“ ì°¨ì„œ ë” ì´ìƒ    â”‚   â”‚
â”‚  â”‚ í•™ìƒì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚     [ì·¨ì†Œ]  [ê±°ë¶€ í™•ì •]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì˜ˆìƒ ì†Œìš” ì‹œê°„

| Phase | ì‘ì—… | ì˜ˆìƒ ì‹œê°„ |
|-------|------|-----------|
| 1 | ì¸í”„ë¼ êµ¬ì¶• (í…Œì´ë¸”, SQS, Lambda) | 1-2ì¼ |
| 2 | í•™ìƒ ê¸°ëŠ¥ | 2-3ì¼ |
| 3 | íŠœí„° ê¸°ëŠ¥ | 2-3ì¼ |
| 4 | SQS Consumer ë° ì•Œë¦¼ ì²˜ë¦¬ | 1ì¼ |
| 5 | API Gateway ì—°ë™ | 1ì¼ |
| 6 | í…ŒìŠ¤íŠ¸ | 2ì¼ |
| 7 | ì¶”ê°€ ê¸°ëŠ¥ (ì„ íƒ) | 1-2ì¼ |
| **ì´ê³„** | | **10-14ì¼** |

---

## ê¶Œí•œ ê²€ì¦ êµ¬í˜„ ìƒì„¸

### ì•„í‚¤í…ì²˜ ê²°ì •: DynamoDB ì¡°íšŒ ë°©ì‹ (ì˜µì…˜ B ì±„íƒ)

**ë°°ê²½:**
- íšŒì›ê°€ì… ì‹œ ì´ë¯¸ DynamoDB users í…Œì´ë¸”ì— role ì €ì¥ ì¤‘
- Cognito UserPoolì—ëŠ” custom:role ì†ì„± ë¯¸ì •ì˜ ìƒíƒœ

**ì„ íƒì§€:**
- **ì˜µì…˜ A**: Cognitoì— custom:role ì €ì¥ â†’ JWT í† í°ì— í¬í•¨
  - ì¥ì : DB ì¡°íšŒ ì—†ì´ ë¹ ë¦„, JWTì— í¬í•¨ë˜ì–´ íš¨ìœ¨ì 
  - ë‹¨ì : ì¸í”„ë¼ ë³€ê²½ í•„ìš”, ê¸°ì¡´ ì‚¬ìš©ì ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”
  
- **ì˜µì…˜ B**: DynamoDBì—ì„œ role ì¡°íšŒ (ì±„íƒ) âœ…
  - ì¥ì : ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥, ì¸í”„ë¼ ë³€ê²½ ë¶ˆí•„ìš”, ì´ë¯¸ ì €ì¥ëœ ë°ì´í„° í™œìš©
  - ë‹¨ì : ë§¤ ìš”ì²­ë§ˆë‹¤ DB ì¡°íšŒ (ì•½ê°„ì˜ ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ)

**êµ¬í˜„ ë°©ì‹:**

1. **2ë‹¨ê³„ ê²€ì¦ ì•„í‚¤í…ì²˜**
   ```
   í´ë¼ì´ì–¸íŠ¸ (JWT í† í°)
       â†“
   API Gateway (Cognito Authorizer)
       â”œâ”€ ì¸ì¦ (Authentication): í† í° ìœ íš¨ì„± ê²€ì¦ âœ…
       â””â”€ í†µê³¼ â†’ Lambda í˜¸ì¶œ
            â†“
   Lambda í•¨ìˆ˜
       â”œâ”€ email ì¶”ì¶œ (Cognito JWT)
       â”œâ”€ role ì¡°íšŒ (DynamoDB users í…Œì´ë¸”) âœ…
       â”œâ”€ ê¶Œí•œ ê²€ì¦ (Authorization): requireStudent/requireTutor âœ…
       â””â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
   ```

2. **ì½”ë“œ êµ¬í˜„**
   - `getUserRole(email)`: DynamoDB users í…Œì´ë¸”ì—ì„œ role ì¡°íšŒ
   - `requireStudent(role)`: studentë§Œ ì ‘ê·¼ ê°€ëŠ¥, ì•„ë‹ˆë©´ 403 ì—ëŸ¬
   - `requireTutor(role)`: tutorë§Œ ì ‘ê·¼ ê°€ëŠ¥, ì•„ë‹ˆë©´ 403 ì—ëŸ¬
   - ê° API í•¸ë“¤ëŸ¬ì—ì„œ role ê²€ì¦ í›„ ì²˜ë¦¬

3. **ì—ëŸ¬ ì²˜ë¦¬**
   - `FORBIDDEN_STUDENT_ONLY`: í•™ìƒ ì „ìš© APIì— íŠœí„°ê°€ ì ‘ê·¼ ì‹œ 403
   - `FORBIDDEN_TUTOR_ONLY`: íŠœí„° ì „ìš© APIì— í•™ìƒì´ ì ‘ê·¼ ì‹œ 403

**ì°¸ê³ :**
- API GatewayëŠ” ì¸ì¦ë§Œ ë‹´ë‹¹ (ëˆ„êµ¬ì¸ì§€ í™•ì¸)
- LambdaëŠ” ê¶Œí•œ í™•ì¸ ë‹´ë‹¹ (ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸)
- ì´ ë°©ì‹ì´ AWS Lambda í‘œì¤€ íŒ¨í„´ì´ë©° ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ìŒ

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•„ìˆ˜ ê¸°ëŠ¥
- [ ] íŠœí„° ëª©ë¡ ì¡°íšŒ
- [ ] ë“±ë¡ ìš”ì²­ ìƒì„±
- [ ] ë‚´ ìš”ì²­ ì¡°íšŒ
- [ ] ìš”ì²­ ìŠ¹ì¸
- [ ] ìš”ì²­ ê±°ë¶€
- [ ] WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼
- [ ] SQSë¥¼ í†µí•œ ì•Œë¦¼ ì´ë ¥ ì €ì¥
- [ ] ì´ë©”ì¼ ì•Œë¦¼ (Amazon SES)
- [ ] ì¤‘ë³µ ìš”ì²­ ë°©ì§€
- [ ] ì •ì› í™•ì¸

### ì„ íƒ ê¸°ëŠ¥
- [ ] ìš”ì²­ ì·¨ì†Œ
- [ ] ê²€ìƒ‰ ë° í•„í„°ë§
- [ ] ìë™ ë§Œë£Œ
- [ ] íŠœí„° í‰ì 
- [ ] í†µê³„

### í…ŒìŠ¤íŠ¸
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

---

## ì°¸ê³  ì‚¬í•­

1. **DynamoDB íŠ¸ëœì­ì…˜**: ìŠ¹ì¸ ì‹œ tutor_requests ì—…ë°ì´íŠ¸ì™€ tutor_students ì¶”ê°€ë¥¼ ì›ìì ìœ¼ë¡œ ì²˜ë¦¬
2. **WebSocket ì—°ê²° ê´€ë¦¬**: ì‚¬ìš©ìê°€ ì˜¤í”„ë¼ì¸ì´ë©´ ì•Œë¦¼ì„ ì €ì¥ í›„ ë‹¤ìŒ ë¡œê·¸ì¸ ì‹œ í‘œì‹œ
3. **ë³´ì•ˆ**: Cognitoë¥¼ í†µí•œ ì¸ì¦ ë° Lambdaì—ì„œ ì‚¬ìš©ì role ê²€ì¦
4. **ì„±ëŠ¥**: GSIë¥¼ ì ì ˆíˆ í™œìš©í•˜ì—¬ ì¿¼ë¦¬ ì„±ëŠ¥ ìµœì í™”
5. **í™•ì¥ì„±**: íŠœí„° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜, ìë™ ë§¤ì¹­ ë“± í–¥í›„ í™•ì¥ ê°€ëŠ¥

---

## ë‹¤ìŒ ë‹¨ê³„

1. ì´ ë¡œë“œë§µì„ íŒ€ê³¼ ê³µìœ  ë° ê²€í† 
2. Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„ ì‹œì‘
3. ê° Phase ì™„ë£Œ ì‹œ í…ŒìŠ¤íŠ¸ ë° ì½”ë“œ ë¦¬ë·°
4. í”„ë¡ íŠ¸ì—”ë“œ íŒ€ê³¼ API ëª…ì„¸ ê³µìœ 
5. ì ì§„ì  ë°°í¬ (ê°œë°œ â†’ ìŠ¤í…Œì´ì§• â†’ í”„ë¡œë•ì…˜)
